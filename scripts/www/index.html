<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- æ ¸å¿ƒé…ç½®ï¼šç¦æ­¢ç¼©æ”¾ã€é€‚é…åˆ˜æµ·å±/çµåŠ¨å²› -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>ä»Šå¤©åƒä»€ä¹ˆPro Max</title>
    <style>
        /* --- å…¨å±€é‡ç½®ä¸Appæ‰‹æ„Ÿä¼˜åŒ– --- */
        * {
            box-sizing: border-box;
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0;
            height: 100vh;
            width: 100vw;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            /* èƒŒæ™¯å‡çº§ï¼šæ›´åŠ å¤§æ°”çš„ä¸­åçº¢æ¸å˜ */
            background: linear-gradient(160deg, #ffecd2 0%, #fcb69f 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
        }

        /* --- é¡¶éƒ¨åŒºåŸŸ --- */
        header {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            padding-bottom: 20px;
            width: 100%;
        }
        
        h1 {
            font-size: 28px;
            color: #d35400; /* æ·±æ©˜è‰²å­—ä½“ï¼Œæ›´æ¸…æ™° */
            margin: 0;
            font-weight: 800;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 13px;
            color: rgba(211, 84, 0, 0.7);
            margin-top: 5px;
            font-weight: 500;
        }

        /* --- ä¸­é—´å¡ç‰‡åŒºåŸŸ --- */
        .main-container {
            flex: 2;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        .food-card {
            width: 88vw;
            height: 35vh; /*ç¨å¾®åŠ é«˜ä¸€ç‚¹ï¼Œå®¹çº³é•¿åå­—*/
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15), 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 20px;
            text-align: center;
        }

        .tag {
            position: absolute;
            top: 16px;
            left: 20px;
            background-color: #ffeaa7;
            color: #d35400;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            opacity: 0.9;
        }

        /* ä¸“é—¨æ˜¾ç¤ºèœç³»æˆ–åœ°åŒºçš„æ ‡ç­¾ */
        .sub-tag {
            position: absolute;
            top: 16px;
            right: 20px;
            font-size: 12px;
            color: #999;
            font-weight: normal;
        }

        .food-name {
            font-size: 40px;
            font-weight: 800;
            color: #2c3e50;
            line-height: 1.3;
            word-break: keep-all;
            transition: font-size 0.1s;
        }

        /* å­—ä½“è‡ªé€‚åº”ç­‰çº§ */
        .food-name.level-1 { font-size: 32px; }
        .food-name.level-2 { font-size: 26px; }
        .food-name.level-3 { font-size: 20px; }

        /* --- åº•éƒ¨æ“ä½œåŒºåŸŸ --- */
        footer {
            flex: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 20px;
            width: 100%;
        }

        #actionBtn {
            background: linear-gradient(to right, #ff512f, #dd2476);
            width: 75vw;
            height: 64px;
            border-radius: 32px;
            border: none;
            color: white;
            font-size: 22px;
            font-weight: bold;
            letter-spacing: 2px;
            box-shadow: 0 10px 25px rgba(221, 36, 118, 0.4);
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #actionBtn:active {
            transform: scale(0.95);
            box-shadow: 0 5px 15px rgba(221, 36, 118, 0.4);
        }

        .selected-anim {
            transform: scale(1.05);
            border: 4px solid #ff512f;
        }

        .data-count {
            margin-top: 15px;
            font-size: 12px;
            color: #888;
            opacity: 0.8;
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ± æ»¡æ±‰å…¨å¸­ç‰ˆ</h1>
        <div class="subtitle">æ”¶å½•ä¸­åå…«å¤§èœç³»ä¸è¡—å¤´å°åƒ</div>
    </header>

    <div class="main-container">
        <div class="food-card" id="card">
            <div class="tag" id="tag">å‡†å¤‡</div>
            <div class="sub-tag" id="subTag">...</div>
            <div class="food-name" id="result">ä»Šå¤©åƒä»€ä¹ˆï¼Ÿ</div>
        </div>
    </div>

    <footer>
        <button id="actionBtn" onclick="toggleLottery()">âš¡ éšæœºç¿»ç‰Œå­</button>
        <div class="data-count" id="dbCount">æ­£åœ¨åŠ è½½ç¾é£Ÿåº“...</div>
    </footer>

    <script>
        // --- å²è¯—çº§ç¾é£Ÿæ•°æ®åº“ ---
        const foodDatabase = [
            // === å·æ¸é‡å£å‘³ ===
            {n:"ç«é”…", t:"ç«é”…", r:"é‡åº†"}, {n:"éº»è¾£é¦™é”…", t:"ä¸‹é¥­", r:"å››å·"}, {n:"æ°´ç…®é±¼", t:"ç¡¬èœ", r:"å·èœ"}, 
            {n:"é…¸èœé±¼", t:"ç¡¬èœ", r:"å·èœ"}, {n:"å›é”…è‚‰", t:"ä¸‹é¥­", r:"å·èœ"}, {n:"éº»å©†è±†è…", t:"ä¸‹é¥­", r:"å·èœ"}, 
            {n:"é±¼é¦™è‚‰ä¸", t:"ä¸‹é¥­", r:"å·èœ"}, {n:"å®«ä¿é¸¡ä¸", t:"ä¸‹é¥­", r:"å·èœ"}, {n:"å£æ°´é¸¡", t:"å‡‰èœ", r:"å·èœ"}, 
            {n:"å¤«å¦»è‚ºç‰‡", t:"å‡‰èœ", r:"å·èœ"}, {n:"è¾£å­é¸¡", t:"ç¡¬èœ", r:"å·èœ"}, {n:"æ¯›è¡€æ—º", t:"ç¡¬èœ", r:"å·èœ"}, 
            {n:"ç²‰è’¸è‚‰", t:"å®¶å¸¸", r:"å››å·"}, {n:"ä¸²ä¸²é¦™", t:"èšé¤", r:"å››å·"}, {n:"é’µé’µé¸¡", t:"å°åƒ", r:"ä¹å±±"}, 
            {n:"å†’èœ", t:"ç®€é¤", r:"æˆéƒ½"}, {n:"æ‹…æ‹…é¢", t:"é¢é£Ÿ", r:"å››å·"}, {n:"é‡åº†å°é¢", t:"é¢é£Ÿ", r:"é‡åº†"}, 
            {n:"é…¸è¾£ç²‰", t:"å°åƒ", r:"é‡åº†"}, {n:"çƒ¤é±¼", t:"èšé¤", r:"ä¸‡å·"}, {n:"è··è„šç‰›è‚‰", t:"æ±¤é”…", r:"ä¹å±±"},
            {n:"ç”œçš®é¸­", t:"ç¡¬èœ", r:"ä¹å±±"}, {n:"è’œæ³¥ç™½è‚‰", t:"å‡‰èœ", r:"å·èœ"}, {n:"æ³¡æ¤’å‡¤çˆª", t:"å°åƒ", r:"å·æ¸"},

            // === ç²¤å¼é²œé¦™ ===
            {n:"ç™½åˆ‡é¸¡", t:"ç¡¬èœ", r:"ç²¤èœ"}, {n:"çƒ§é¹…", t:"ç¡¬èœ", r:"ç²¤èœ"}, {n:"èœœæ±å‰çƒ§", t:"ä¸‹é¥­", r:"ç²¤èœ"}, 
            {n:"è èå’•å’¾è‚‰", t:"é…¸ç”œ", r:"ç²¤èœ"}, {n:"å¹²ç‚’ç‰›æ²³", t:"ä¸»é£Ÿ", r:"å¹¿å·"}, {n:"æ¹¿ç‚’ç‰›æ²³", t:"ä¸»é£Ÿ", r:"æ½®æ±•"}, 
            {n:"ç…²ä»”é¥­", t:"ç®€é¤", r:"å¹¿å·"}, {n:"çŒªè„šå§œ", t:"ç‰¹è‰²", r:"å¹¿ä¸œ"}, {n:"è™¾é¥º", t:"æ—©èŒ¶", r:"å¹¿å¼"}, 
            {n:"çƒ§éº¦", t:"æ—©èŒ¶", r:"å¹¿å¼"}, {n:"è‚ ç²‰", t:"æ—©é¤", r:"å¹¿ä¸œ"}, {n:"äº‘åé¢", t:"é¢é£Ÿ", r:"å¹¿å¼"}, 
            {n:"æ½®æ±•ç‰›è‚‰ç«é”…", t:"ç«é”…", r:"æ½®æ±•"}, {n:"ç ‚é”…ç²¥", t:"å¤œå®µ", r:"æ½®æ±•"}, {n:"åŠç¬¬ç²¥", t:"ç²¥å“", r:"å¹¿å·"}, 
            {n:"è‰‡ä»”ç²¥", t:"ç²¥å“", r:"å¹¿å·"}, {n:"åŒçš®å¥¶", t:"ç”œå“", r:"é¡ºå¾·"}, {n:"å§œæ’å¥¶", t:"ç”œå“", r:"ç•ªç¦º"}, 
            {n:"ç›ç„—é¸¡", t:"ç¡¬èœ", r:"å®¢å®¶"}, {n:"é…¿è±†è…", t:"å®¶å¸¸", r:"å®¢å®¶"}, {n:"æ¢…èœæ‰£è‚‰", t:"ç¡¬èœ", r:"å®¢å®¶"}, 
            {n:"çŒªè‚šé¸¡", t:"ç«é”…", r:"å¹¿ä¸œ"}, {n:"æ¸…è’¸é²ˆé±¼", t:"å®¶å¸¸", r:"ç²¤èœ"}, {n:"èšçƒ™", t:"å°åƒ", r:"æ½®æ±•"},

            // === æ¹˜èœé¦™è¾£ ===
            {n:"è¾£æ¤’ç‚’è‚‰", t:"ä¸‹é¥­", r:"æ¹˜èœ"}, {n:"å‰æ¤’é±¼å¤´", t:"ç¡¬èœ", r:"æ¹˜èœ"}, {n:"å°ç‚’é»„ç‰›è‚‰", t:"ä¸‹é¥­", r:"æ¹˜èœ"}, 
            {n:"çš®è›‹æ“‚è¾£æ¤’", t:"å‡‰èœ", r:"æ¹˜èœ"}, {n:"æ‰‹æ’•åŒ…èœ", t:"å®¶å¸¸", r:"æ¹˜èœ"}, {n:"å£å‘³è™¾/å°é¾™è™¾", t:"å¤œå®µ", r:"é•¿æ²™"}, 
            {n:"è‡­è±†è…", t:"å°åƒ", r:"é•¿æ²™"}, {n:"ç³–æ²¹ç²‘ç²‘", t:"å°åƒ", r:"é•¿æ²™"}, {n:"ç±³ç²‰", t:"æ—©é¤", r:"æ¹–å—"}, 
            {n:"å¹²é”…èŠ±èœ", t:"å®¶å¸¸", r:"æ¹˜èœ"}, {n:"å¤–å©†èœ", t:"ä¸‹é¥­", r:"æ¹˜èœ"}, {n:"æ°¸å·è¡€é¸­", t:"ç¡¬èœ", r:"æ¹˜èœ"},

            // === é²èœä¸åŒ—æ–¹èœ ===
            {n:"ç³–é†‹é‡Œè„Š", t:"é…¸ç”œ", r:"é²èœ"}, {n:"ä¹è½¬å¤§è‚ ", t:"ç¡¬èœ", r:"é²èœ"}, {n:"è‘±çƒ§æµ·å‚", t:"è±ªæ¨ª", r:"é²èœ"}, 
            {n:"å¾·å·æ‰’é¸¡", t:"ç¡¬èœ", r:"å±±ä¸œ"}, {n:"å››å–œä¸¸å­", t:"å®¶å¸¸", r:"é²èœ"}, {n:"ä¸€å“é”…", t:"ç¡¬èœ", r:"é²èœ"}, 
            {n:"æŠŠå­è‚‰", t:"ç¡¬èœ", r:"æµå—"}, {n:"æ‚ç²®ç…é¥¼", t:"æ—©é¤", r:"å±±ä¸œ"}, {n:"å¤§è‘±è˜¸é…±", t:"ç‰¹è‰²", r:"å±±ä¸œ"}, 
            {n:"æ°´é¥º", t:"ä¸»é£Ÿ", r:"åŒ—æ–¹"}, {n:"ç‚¸é…±é¢", t:"é¢é£Ÿ", r:"åŒ—äº¬"}, {n:"åŒ—äº¬çƒ¤é¸­", t:"å¤§é¤", r:"åŒ—äº¬"}, 
            {n:"é“œé”…æ¶®è‚‰", t:"ç«é”…", r:"åŒ—äº¬"}, {n:"é©´æ‰“æ»š", t:"ç”œç‚¹", r:"åŒ—äº¬"}, {n:"å¤ç…®ç«çƒ§", t:"ç‰¹è‰²", r:"åŒ—äº¬"}, 
            {n:"ç‚’è‚", t:"æ—©é¤", r:"åŒ—äº¬"}, {n:"ç¾Šèå­", t:"ç«é”…", r:"åŒ—äº¬"}, {n:"äº¬ä¸œè‚‰é¥¼", t:"é¢é£Ÿ", r:"åŒ—æ–¹"},

            // === ä¸œåŒ—èœé‡å¤§ ===
            {n:"é”…åŒ…è‚‰", t:"é…¸ç”œ", r:"ä¸œåŒ—"}, {n:"åœ°ä¸‰é²œ", t:"å®¶å¸¸", r:"ä¸œåŒ—"}, {n:"çŒªè‚‰ç‚–ç²‰æ¡", t:"ç‚–èœ", r:"ä¸œåŒ—"}, 
            {n:"å°é¸¡ç‚–è˜‘è‡", t:"ç‚–èœ", r:"ä¸œåŒ—"}, {n:"æ€çŒªèœ", t:"ç¡¬èœ", r:"ä¸œåŒ—"}, {n:"æºœè‚‰æ®µ", t:"å®¶å¸¸", r:"ä¸œåŒ—"}, 
            {n:"å¤§æ‹‰çš®", t:"å‡‰èœ", r:"ä¸œåŒ—"}, {n:"é…±å¤§éª¨", t:"ç¡¬èœ", r:"ä¸œåŒ—"}, {n:"çƒ¤å†·é¢", t:"å°åƒ", r:"ä¸œåŒ—"}, 
            {n:"å¾—è«åˆ©ç‚–é±¼", t:"ç‚–èœ", r:"ä¸œåŒ—"}, {n:"é…¸èœç™½è‚‰", t:"ç‚–èœ", r:"ä¸œåŒ—"}, {n:"å†»æ¢¨/å†»æŸ¿å­", t:"æ°´æœ", r:"ä¸œåŒ—"},

            // === æ±Ÿæµ™æ²ªåŒ…é‚®åŒº ===
            {n:"è¥¿æ¹–é†‹é±¼", t:"ç‰¹è‰²", r:"æ­å¸®"}, {n:"é¾™äº•è™¾ä»", t:"æ¸…æ·¡", r:"æ­å¸®"}, {n:"ä¸œå¡è‚‰", t:"ç¡¬èœ", r:"æ­å¸®"}, 
            {n:"å«èŠ±é¸¡", t:"ç¡¬èœ", r:"æ±Ÿè‹"}, {n:"æ¾é¼ æ¡‚é±¼", t:"é…¸ç”œ", r:"è‹å¸®"}, {n:"ç‹®å­å¤´", t:"ç¡¬èœ", r:"æ·®æ‰¬"}, 
            {n:"å¤§ç…®å¹²ä¸", t:"æ±¤èœ", r:"æ·®æ‰¬"}, {n:"ç›æ°´é¸­", t:"å‡‰èœ", r:"å—äº¬"}, {n:"é¸­è¡€ç²‰ä¸æ±¤", t:"å°åƒ", r:"å—äº¬"}, 
            {n:"å°ç¬¼åŒ…", t:"é¢ç‚¹", r:"ä¸Šæµ·"}, {n:"ç”Ÿç…åŒ…", t:"é¢ç‚¹", r:"ä¸Šæµ·"}, {n:"çº¢çƒ§è‚‰", t:"å®¶å¸¸", r:"æœ¬å¸®"}, 
            {n:"è…Œç¬ƒé²œ", t:"æ±¤å“", r:"æ±Ÿæµ™"}, {n:"å¤§é—¸èŸ¹", t:"æ—¶ä»¤", r:"é˜³æ¾„æ¹–"}, {n:"ç‰‡å„¿å·", t:"é¢é£Ÿ", r:"æ­å·"}, 
            {n:"è‘±æ²¹æ‹Œé¢", t:"é¢é£Ÿ", r:"ä¸Šæµ·"}, {n:"å“æ²¹é³ç³Š", t:"ç¡¬èœ", r:"æœ¬å¸®"}, {n:"é†‰èŸ¹/é†‰è™¾", t:"ç”Ÿé²œ", r:"æµ™æ±Ÿ"},

            // === é—½å°ä¸ä¸œå— ===
            {n:"ä½›è·³å¢™", t:"è±ªæ¨ª", r:"é—½èœ"}, {n:"è”æè‚‰", t:"é…¸ç”œ", r:"ç¦å·"}, {n:"æ²™å¿å°åƒ", t:"å¿«é¤", r:"ä¸‰æ˜"}, 
            {n:"æ‰è‚‰", t:"å°åƒ", r:"æ²™å¿"}, {n:"æ‹Œé¢", t:"å°åƒ", r:"æ²™å¿"}, {n:"åœŸç¬‹å†»", t:"ç‰¹è‰²", r:"å¦é—¨"}, 
            {n:"æ²™èŒ¶é¢", t:"é¢é£Ÿ", r:"å¦é—¨"}, {n:"æµ·è›ç…", t:"å°åƒ", r:"é—½å°"}, {n:"å¤è‚‰é¥­", t:"ç®€é¤", r:"å°æ¹¾"}, 
            {n:"ä¸‰æ¯é¸¡", t:"å®¶å¸¸", r:"å°æ¹¾"}, {n:"å¤§è‚ åŒ…å°è‚ ", t:"å°åƒ", r:"å°æ¹¾"}, {n:"ç‰›è‚‰é¢", t:"é¢é£Ÿ", r:"å°æ¹¾"},

            // === è¥¿åŒ—ä¸é¢é£Ÿç‹å›½ ===
            {n:"å…°å·æ‹‰é¢", t:"é¢é£Ÿ", r:"ç”˜è‚ƒ"}, {n:"æ‰‹æŠ“ç¾Šè‚‰", t:"ç¡¬èœ", r:"è¥¿åŒ—"}, {n:"å¤§ç›˜é¸¡", t:"ç¡¬èœ", r:"æ–°ç–†"}, 
            {n:"çƒ¤ç¾Šè‚‰ä¸²", t:"çƒ§çƒ¤", r:"æ–°ç–†"}, {n:"æ‰‹æŠ“é¥­", t:"ä¸»é£Ÿ", r:"æ–°ç–†"}, {n:"è¿‡æ²¹è‚‰æ‹Œé¢", t:"é¢é£Ÿ", r:"æ–°ç–†"}, 
            {n:"ç‚’ç±³ç²‰", t:"è¾£å‘³", r:"æ–°ç–†"}, {n:"çƒ¤åŒ…å­", t:"å°åƒ", r:"æ–°ç–†"}, {n:"è‚‰å¤¹é¦", t:"å°åƒ", r:"é™•è¥¿"}, 
            {n:"å‡‰çš®", t:"å°åƒ", r:"é™•è¥¿"}, {n:"ç¾Šè‚‰æ³¡é¦", t:"ç‰¹è‰²", r:"è¥¿å®‰"}, {n:"æ²¹æ³¼é¢", t:"é¢é£Ÿ", r:"é™•è¥¿"}, 
            {n:"biangbiangé¢", t:"é¢é£Ÿ", r:"é™•è¥¿"}, {n:"è‘«èŠ¦é¸¡", t:"ç¡¬èœ", r:"è¥¿å®‰"}, {n:"å²å±±è‡Šå­é¢", t:"é¢é£Ÿ", r:"é™•è¥¿"}, 
            {n:"èœé¢çªçª", t:"æ‚ç²®", r:"å±±è¥¿"}, {n:"åˆ€å‰Šé¢", t:"é¢é£Ÿ", r:"å±±è¥¿"}, {n:"è¿‡æ¡¥ç±³çº¿", t:"é¢é£Ÿ", r:"äº‘å—"}, 
            {n:"æ±½é”…é¸¡", t:"æ±¤å“", r:"äº‘å—"}, {n:"é²œèŠ±é¥¼", t:"ç”œç‚¹", r:"äº‘å—"}, {n:"é…¸æ±¤é±¼", t:"ç«é”…", r:"è´µå·"}, 
            {n:"è‚ æ—ºé¢", t:"é¢é£Ÿ", r:"è´µå·"}, {n:"è€å¹²å¦ˆç‚’é¥­", t:"ç‚’é¥­", r:"è´µå·"},

            // === æ—©é¤/é¢ç‚¹/å°åƒ ===
            {n:"è±†æµ†æ²¹æ¡", t:"æ—©é¤", r:"å›½æ°‘"}, {n:"çš®è›‹ç˜¦è‚‰ç²¥", t:"ç²¥å“", r:"å®¶å¸¸"}, {n:"èƒ¡è¾£æ±¤", t:"æ—©é¤", r:"æ²³å—"}, 
            {n:"çƒ­å¹²é¢", t:"é¢é£Ÿ", r:"æ­¦æ±‰"}, {n:"ä¸‰é²œè±†çš®", t:"æ—©é¤", r:"æ­¦æ±‰"}, {n:"çƒ§é¥¼å¤¹è‚‰", t:"æ—©é¤", r:"åŒ—æ–¹"}, 
            {n:"é¸¡è›‹çŒé¥¼", t:"æ—©é¤", r:"è¡—å¤´"}, {n:"æ‰‹æŠ“é¥¼", t:"æ—©é¤", r:"è¡—å¤´"}, {n:"ç…é¥¼æœå­", t:"æ—©é¤", r:"å¤©æ´¥"}, 
            {n:"èºè›³ç²‰", t:"é‡å£", r:"æŸ³å·"}, {n:"å—æ˜Œæ‹Œç²‰", t:"é¢é£Ÿ", r:"æ±Ÿè¥¿"}, {n:"ç“¦ç½æ±¤", t:"æ±¤å“", r:"æ±Ÿè¥¿"}, 
            {n:"æ¡‚æ—ç±³ç²‰", t:"é¢é£Ÿ", r:"å¹¿è¥¿"}, {n:"è€å‹ç²‰", t:"é¢é£Ÿ", r:"å—å®"}, {n:"ç‚’æ–¹ä¾¿é¢", t:"å¤œå®µ", r:"å®¿èˆ"},

            // === ç°ä»£/å¿«é¤/å…¶ä»– ===
            {n:"é»„ç„–é¸¡ç±³é¥­", t:"ç®€é¤", r:"å±±ä¸œ"}, {n:"éš†æ±ŸçŒªè„šé¥­", t:"ç®€é¤", r:"å¹¿ä¸œ"}, {n:"å…°å·æ‹‰é¢", t:"ç®€é¤", r:"ç”˜è‚ƒ"}, 
            {n:"è‚¯å¾·åŸº", t:"å¿«é¤", r:"ç¾å¼"}, {n:"éº¦å½“åŠ³", t:"å¿«é¤", r:"ç¾å¼"}, {n:"æ±‰å ¡ç‹", t:"å¿«é¤", r:"ç¾å¼"}, 
            {n:"å¿…èƒœå®¢", t:"è¥¿é¤", r:"æŠ«è¨"}, {n:"è¨è‰äºš", t:"è¥¿é¤", r:"æ„å¼"}, {n:"æ—¥å¼æ‹‰é¢", t:"æ—¥æ–™", r:"æ—¥æœ¬"}, 
            {n:"å¯¿å¸", t:"æ—¥æ–™", r:"æ—¥æœ¬"}, {n:"éŸ©å¼ç‚¸é¸¡", t:"éŸ©æ–™", r:"éŸ©å›½"}, {n:"éƒ¨é˜Ÿç«é”…", t:"éŸ©æ–™", r:"éŸ©å›½"}, 
            {n:"çŸ³é”…æ‹Œé¥­", t:"éŸ©æ–™", r:"éŸ©å›½"}, {n:"è½»é£Ÿæ²™æ‹‰", t:"å‡è‚¥", r:"è¥¿å¼"}, {n:"éº»è¾£çƒ«", t:"å°åƒ", r:"ä¸œåŒ—"}, 
            {n:"ä¾¿åˆ©åº—é¥­å›¢", t:"é€Ÿé£Ÿ", r:"ä¾¿åˆ©åº—"}, {n:"å…³ä¸œç…®", t:"å°åƒ", r:"ä¾¿åˆ©åº—"}, {n:"æ³¡é¢åŠ è‚ ", t:"é€Ÿé£Ÿ", r:"å®…å®¶"},
            {n:"è‡ªåŠ©é¤", t:"è±ªæ¨ª", r:"æ‰¶å¢™å‡º"}, {n:"æ¤°å­é¸¡", t:"ç«é”…", r:"æµ·å—"}, {n:"çŒªè‚šé¸¡", t:"ç«é”…", r:"å¹¿ä¸œ"}
        ];

        let timer = null;
        let isRunning = false;
        
        const cardDiv = document.getElementById('card');
        const resultDiv = document.getElementById('result');
        const tagDiv = document.getElementById('tag');
        const subTagDiv = document.getElementById('subTag');
        const btn = document.getElementById('actionBtn');
        const dbCountDiv = document.getElementById('dbCount');

        // åˆå§‹åŒ–æ˜¾ç¤ºæ•°æ®åº“æ•°é‡
        dbCountDiv.innerText = `å·²æ”¶å½•ä¸­åç¾é£Ÿ ${foodDatabase.length} é“`;

        function toggleLottery() {
            // è§¦æ„Ÿåé¦ˆ (å®‰å“Appæ‰“åŒ…åç”Ÿæ•ˆ)
            if (navigator.vibrate) navigator.vibrate(15);

            if (isRunning) {
                stop();
            } else {
                start();
            }
        }

        function start() {
            isRunning = true;
            btn.innerText = "ğŸ›‘ åœï¼";
            btn.style.background = "linear-gradient(to right, #f2994a, #f2c94c)"; 
            cardDiv.classList.remove("selected-anim");
            
            // æé€Ÿæ»šåŠ¨æ¨¡å¼
            timer = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * foodDatabase.length);
                const food = foodDatabase[randomIndex];
                
                resultDiv.innerText = food.n;
                tagDiv.innerText = food.t;
                subTagDiv.innerText = food.r;
                
                adjustFontSize(food.n);
                tagDiv.style.backgroundColor = getRandomColor();
                
            }, 40); // 40æ¯«ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œè§†è§‰æ®‹ç•™æ›´å¼º
        }

        function stop() {
            clearInterval(timer);
            isRunning = false;

            const btnTexts = ["ğŸ‘Œ æœ•å‡†äº†", "ğŸ¥¢ å¼€åŠ¨ï¼", "ğŸ˜‹ å°±å®ƒäº†", "ğŸƒâ€â™‚ï¸ èµ°èµ·"];
            btn.innerText = btnTexts[Math.floor(Math.random() * btnTexts.length)];
            btn.style.background = "linear-gradient(to right, #ff512f, #dd2476)";
            
            cardDiv.classList.add("selected-anim");
            
            // åœæ­¢æ—¶å¼ºçƒˆéœ‡åŠ¨
            if (navigator.vibrate) navigator.vibrate([40, 50, 40]);
        }

        // æ™ºèƒ½å­—ä½“è°ƒæ•´ç³»ç»Ÿ
        function adjustFontSize(text) {
            resultDiv.classList.remove("level-1", "level-2", "level-3");
            const len = text.length;
            if (len > 8) {
                resultDiv.classList.add("level-3"); // è¶…é•¿èœåï¼ˆå¦‚ï¼šè¥¿çº¢æŸ¿é¸¡è›‹æ‰“å¤é¢ï¼‰
            } else if (len > 5) {
                resultDiv.classList.add("level-2"); // ä¸­é•¿èœå
            } else if (len > 3) {
                resultDiv.classList.add("level-1"); // ç¨é•¿èœå
            }
            // 2-3ä¸ªå­—çš„èœåä¿æŒæœ€å¤§å·
        }

        function getRandomColor() {
            const hue = Math.floor(Math.random() * 360);
            return `hsl(${hue}, 85%, 92%)`;
        }
    </script>
</body>
</html>
