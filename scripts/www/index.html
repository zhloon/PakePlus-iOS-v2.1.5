<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- æ ¸å¿ƒé…ç½®ï¼šç¦æ­¢ç¼©æ”¾ã€é€‚é…åˆ˜æµ·å±/çµåŠ¨å²›ã€æ²‰æµ¸å¼çŠ¶æ€æ  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>ä»Šå¤©åƒä»€ä¹ˆPro</title>
    <style>
        /* --- å…¨å±€é‡ç½®ä¸Appæ‰‹æ„Ÿä¼˜åŒ– --- */
        * {
            box-sizing: border-box;
            -webkit-user-select: none; /* ç¦æ­¢é•¿æŒ‰é€‰ä¸­ */
            user-select: none;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤ç‚¹å‡»é«˜äº® */
            outline: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0;
            height: 100vh;
            width: 100vw;
            /* é€‚é…åˆ˜æµ·å±/åº•éƒ¨æ¨ªæ¡çš„å®‰å…¨åŒºåŸŸ */
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            
            /* æ›´æœ‰é£Ÿæ¬²çš„æš–è‰²æ¸å˜èƒŒæ™¯ */
            background: linear-gradient(160deg, #ffd194 0%, #d45646 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow: hidden; /* ç¦æ­¢é¡µé¢æ»šåŠ¨ */
        }

        /* --- é¡¶éƒ¨åŒºåŸŸ --- */
        header {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            padding-bottom: 20px;
            width: 100%;
        }
        
        h1 {
            font-size: 26px;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
            margin: 0;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 14px;
            color: rgba(255,255,255,0.9);
            margin-top: 8px;
            font-weight: normal;
        }

        /* --- ä¸­é—´å¡ç‰‡åŒºåŸŸ --- */
        .main-container {
            flex: 2;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        .food-card {
            width: 88vw; /* å æ®å±å¹•å®½åº¦çš„88% */
            height: 32vh; /* å æ®å±å¹•é«˜åº¦çš„32% */
            background: rgba(255, 255, 255, 0.96);
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2), 0 5px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 20px;
            text-align: center;
        }

        /* æ”¾åœ¨å¡ç‰‡å·¦ä¸Šè§’çš„åˆ†ç±»æ ‡ç­¾ */
        .tag {
            position: absolute;
            top: 16px;
            left: 20px;
            background-color: #ffeaa7;
            color: #d35400;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            opacity: 0.8;
        }

        .food-name {
            font-size: 42px; /* é»˜è®¤å¤§å­—ä½“ */
            font-weight: 800;
            color: #2c3e50;
            line-height: 1.3;
            word-break: keep-all; /* é˜²æ­¢ä¸­æ–‡è¯ç»„æ–­å¼€ */
            transition: font-size 0.1s; /* å­—ä½“å¤§å°å˜åŒ–æ—¶çš„è¿‡æ¸¡ */
        }

        /* å¦‚æœå­—æ•°å¤ªå¤šï¼ŒåŠ¨æ€æ·»åŠ è¿™ä¸ªç±»å˜å°å­—ä½“ */
        .food-name.long-text {
            font-size: 28px;
        }

        .food-name.super-long-text {
            font-size: 22px;
        }

        /* --- åº•éƒ¨æ“ä½œåŒºåŸŸ --- */
        footer {
            flex: 1.5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 20px;
            width: 100%;
        }

        #actionBtn {
            background: linear-gradient(to right, #ff9966, #ff5e62);
            width: 75vw;
            height: 64px;
            border-radius: 32px;
            border: none;
            color: white;
            font-size: 22px;
            font-weight: bold;
            letter-spacing: 2px;
            box-shadow: 0 10px 25px rgba(212, 86, 70, 0.4);
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #actionBtn:active {
            transform: scale(0.95);
            box-shadow: 0 5px 15px rgba(212, 86, 70, 0.4);
        }

        /* é€‰ä¸­æ—¶çš„å¡ç‰‡åŠ¨ç”» */
        .selected-anim {
            transform: scale(1.05);
            border: 4px solid #ff5e62;
        }

        .data-count {
            margin-top: 20px;
            font-size: 12px;
            color: rgba(255,255,255,0.7);
        }

    </style>
</head>
<body>

    <header>
        <h1>ğŸ± çš‡ä¸Šï¼Œåƒç‚¹å•¥ï¼Ÿ</h1>
        <div class="subtitle">å®Œç¾æ²»æ„ˆé€‰æ‹©å›°éš¾ç—‡</div>
    </header>

    <div class="main-container">
        <div class="food-card" id="card">
            <div class="tag" id="tag">å‡†å¤‡å¥½äº†å—</div>
            <div class="food-name" id="result">ç‚¹å‡»æŒ‰é’®<br>ç¿»ç‰Œå­</div>
        </div>
    </div>

    <footer>
        <button id="actionBtn" onclick="toggleLottery()">âš¡ å¸®æˆ‘é€‰ï¼</button>
        <div class="data-count">å·²æ”¶å½• 150+ é“ç¾é£Ÿ</div>
    </footer>

    <script>
        // --- æ‰©å……ç‰ˆç¾é£Ÿæ•°æ®åº“ (åˆ†ç±» + åç§°) ---
        const foodDatabase = [
            // ğŸœ é¢é£Ÿå¸å›½
            {name: "å…°å·æ‹‰é¢", tag: "é¢é£Ÿ"}, {name: "é‡åº†å°é¢", tag: "é¢é£Ÿ"},
            {name: "æ­¦æ±‰çƒ­å¹²é¢", tag: "é¢é£Ÿ"}, {name: "è€åŒ—äº¬ç‚¸é…±é¢", tag: "é¢é£Ÿ"},
            {name: "é™•è¥¿æ²¹æ³¼é¢", tag: "é¢é£Ÿ"}, {name: "è¿‡æ¡¥ç±³çº¿", tag: "é¢é£Ÿ"},
            {name: "èºè›³ç²‰", tag: "é¢é£Ÿ"}, {name: "é…¸è¾£ç²‰", tag: "é¢é£Ÿ"},
            {name: "å—æ˜Œæ‹Œç²‰", tag: "é¢é£Ÿ"}, {name: "æ–°ç–†ç‚’ç±³ç²‰", tag: "é¢é£Ÿ"},
            {name: "åˆ€å‰Šé¢", tag: "é¢é£Ÿ"}, {name: "æ„å¤§åˆ©é¢", tag: "è¥¿å¼é¢ç‚¹"},
            {name: "æ—¥å¼è±šéª¨æ‹‰é¢", tag: "æ—¥æ–™"}, {name: "ç‚’æ²³ç²‰/ç‰›æ²³", tag: "é¢é£Ÿ"},
            {name: "æ–¹ä¾¿é¢åŠ ä¸¤è›‹", tag: "å®…å®¶"}, {name: "å‡‰çš®/è‚‰å¤¹é¦", tag: "å°åƒ"},

            // ğŸš ç±³é¥­æ€æ‰‹
            {name: "é»„ç„–é¸¡ç±³é¥­", tag: "ç®€é¤"}, {name: "éš†æ±ŸçŒªè„šé¥­", tag: "ç®€é¤"},
            {name: "å°å¼å¤è‚‰é¥­", tag: "ç®€é¤"}, {name: "æµ·å—é¸¡é¥­", tag: "ç®€é¤"},
            {name: "æ‰¬å·ç‚’é¥­", tag: "ç‚’é¥­"}, {name: "éº»å©†è±†è…ç›–é¥­", tag: "å·èœ"},
            {name: "é±¼é¦™è‚‰ä¸ç›–é¥­", tag: "å·èœ"}, {name: "å›é”…è‚‰ç›–é¥­", tag: "å·èœ"},
            {name: "çƒ§é¸­/å‰çƒ§é¥­", tag: "ç²¤èœ"}, {name: "å’–å–±ç‰›è…©é¥­", tag: "ç®€é¤"},
            {name: "çŸ³é”…æ‹Œé¥­", tag: "éŸ©æ–™"}, {name: "æ—¥å¼è‚¥ç‰›é¥­", tag: "æ—¥æ–™"},
            {name: "é³—é±¼é¥­", tag: "æ—¥æ–™"}, {name: "æœ¨æ¡¶é¥­", tag: "ç®€é¤"},
            {name: "ç…²ä»”é¥­", tag: "ç²¤èœ"}, {name: "è›‹åŒ…é¥­", tag: "ç®€é¤"},

            // ğŸ¥˜ èšé¤ç¡¬èœ
            {name: "éº»è¾£é¦™é”…", tag: "å·èœ"}, {name: "é‡åº†ç«é”…", tag: "ç«é”…"},
            {name: "æ½®æ±•ç‰›è‚‰ç«é”…", tag: "ç«é”…"}, {name: "è€åŒ—äº¬æ¶®è‚‰", tag: "ç«é”…"},
            {name: "é…¸èœé±¼", tag: "å·èœ"}, {name: "æ°´ç…®è‚‰ç‰‡", tag: "å·èœ"},
            {name: "çƒ¤é±¼", tag: "èšé¤"}, {name: "æ–°ç–†å¤§ç›˜é¸¡", tag: "ç¡¬èœ"},
            {name: "æ¯›è¡€æ—º", tag: "å·èœ"}, {name: "æ¤°å­é¸¡", tag: "ç«é”…"},
            {name: "ç¾Šèå­", tag: "ç«é”…"}, {name: "é“æ¿çƒ§", tag: "æ—¥å¼"},
            {name: "ä¸œåŒ—æ€çŒªèœ", tag: "ä¸œåŒ—èœ"}, {name: "åŒ—äº¬çƒ¤é¸­", tag: "äº¬èœ"},
            {name: "å¹²é”…ç‰›è›™", tag: "æ¹˜èœ"}, {name: "çº¢çƒ§è‚‰", tag: "å®¶å¸¸èœ"},

            // ğŸ” å¿«ä¹è‚¥å®…
            {name: "è‚¯å¾·åŸºå…¨å®¶æ¡¶", tag: "å¿«é¤"}, {name: "éº¦å½“åŠ³å·¨æ— éœ¸", tag: "å¿«é¤"},
            {name: "æ±‰å ¡ç‹çš‡å ¡", tag: "å¿«é¤"}, {name: "å¡”æ–¯æ±€ä¸­å›½æ±‰å ¡", tag: "å¿«é¤"},
            {name: "å¿…èƒœå®¢æŠ«è¨", tag: "æŠ«è¨"}, {name: "è¾¾ç¾ä¹æŠ«è¨", tag: "æŠ«è¨"},
            {name: "èµ›ç™¾å‘³ä¸‰æ˜æ²»", tag: "ç®€é¤"}, {name: "åè±å£«å–·å°„å¥—é¤", tag: "å¿«é¤"},
            {name: "éŸ©å¼ç‚¸é¸¡", tag: "éŸ©æ–™"}, {name: "ç‚¸ä¸²/çƒ§çƒ¤", tag: "å¤œå®µ"},
            {name: "ç‰›æ’", tag: "è¥¿é¤"}, {name: "Taco(å¡”å¯)", tag: "å¢¨è¥¿å“¥èœ"},

            // ğŸ¥Ÿ å°åƒ/æ—©ç‚¹
            {name: "æ²™å¿å°åƒ", tag: "å›½æ°‘å°åƒ"}, {name: "ç…é¥¼æœå­", tag: "æ—©é¤"},
            {name: "æ‰‹æŠ“é¥¼", tag: "å°åƒ"}, {name: "å°ç¬¼åŒ…", tag: "é¢ç‚¹"},
            {name: "ç”Ÿç…åŒ…", tag: "é¢ç‚¹"}, {name: "æ°´é¥º/è’¸é¥º", tag: "é¢ç‚¹"},
            {name: "é¦„é¥¨/äº‘å", tag: "é¢ç‚¹"}, {name: "éº»è¾£çƒ«", tag: "å›½æ°‘å°åƒ"},
            {name: "å…³ä¸œç…®", tag: "ä¾¿åˆ©åº—"}, {name: "ç« é±¼å°ä¸¸å­", tag: "å°åƒ"},
            {name: "è‚‰é¥¼", tag: "é¢ç‚¹"}, {name: "è‡­è±†è…", tag: "å°åƒ"},

            // ğŸ¥— è½»é£Ÿ/å¥åº·
            {name: "è½»é£Ÿæ²™æ‹‰", tag: "å‡è„‚"}, {name: "æ³¢å¥‡é¥­(Poke)", tag: "è½»é£Ÿ"},
            {name: "å…¨éº¦ä¸‰æ˜æ²»", tag: "è½»é£Ÿ"}, {name: "é…¸å¥¶æ°´æœæ", tag: "ç”œå“"},
            {name: "ä¾¿åˆ©åº—é¥­å›¢", tag: "ä¾¿æº"}, {name: "ç‰ç±³/çº¢è–¯", tag: "ç²—ç²®"},
            
            // ğŸ² ææ€ª/ç„å­¦
            {name: "å†é¥¿ä¸€å°æ—¶", tag: "ä¿®ä»™"}, {name: "å»è¹­åŒäº‹çš„é¥­", tag: "çœé’±"},
            {name: "å–æ°´é¥±", tag: "æç®€"}, {name: "å‡è‚¥ï¼Œä¸åƒäº†ï¼", tag: "è‡ªå¾‹"},
            {name: "ç¿»ç¿»å†°ç®±å‰©å•¥", tag: "æ¸…ç†"}, {name: "ä¾¿åˆ©åº—ç›²ç›’", tag: "éšæœº"},
            {name: "æœ€è´µçš„é‚£å®¶ï¼", tag: "åœŸè±ª"}, {name: "å¤–å–é”€é‡ç¬¬ä¸€", tag: "ä»ä¼—"}
        ];

        let timer = null;
        let isRunning = false;
        
        const cardDiv = document.getElementById('card');
        const resultDiv = document.getElementById('result');
        const tagDiv = document.getElementById('tag');
        const btn = document.getElementById('actionBtn');

        function toggleLottery() {
            // è§¦æ„Ÿåé¦ˆ (å®‰å“Appæ‰“åŒ…åç”Ÿæ•ˆ)
            if (navigator.vibrate) navigator.vibrate(15);

            if (isRunning) {
                stop();
            } else {
                start();
            }
        }

        function start() {
            isRunning = true;
            btn.innerText = "ğŸ›‘ åœï¼";
            // æ”¹å˜æŒ‰é’®æ ·å¼è¡¨ç¤ºæ­£åœ¨è¿è¡Œ
            btn.style.background = "linear-gradient(to right, #f2994a, #f2c94c)"; 
            
            cardDiv.classList.remove("selected-anim");
            
            timer = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * foodDatabase.length);
                const food = foodDatabase[randomIndex];
                
                // æ›´æ–°æ–‡å­—å’Œæ ‡ç­¾
                resultDiv.innerText = food.name;
                tagDiv.innerText = food.tag;
                
                // åŠ¨æ€è°ƒæ•´å­—ä½“å¤§å°
                adjustFontSize(food.name);
                
                // éšæœºå˜æ¢æ ‡ç­¾é¢œè‰²
                tagDiv.style.backgroundColor = getRandomColor();
                
            }, 50); // åˆ·æ–°é€Ÿåº¦
        }

        function stop() {
            clearInterval(timer);
            isRunning = false;

            // éšæœºæ–‡æ¡ˆ
            const btnTexts = ["ğŸ˜’ ä¸è¡Œï¼Œæ¢ä¸€ä¸ª", "ğŸ² å†é€‰ä¸€æ¬¡", "ğŸ˜‹ å°±åƒè¿™ä¸ªï¼", "ğŸ‘Œ å¬å¤©ç”±å‘½"];
            btn.innerText = btnTexts[Math.floor(Math.random() * btnTexts.length)];
            btn.style.background = "linear-gradient(to right, #ff9966, #ff5e62)";
            
            // åœæ­¢æ—¶çš„åŠ¨ç”»ç‰¹æ•ˆ
            cardDiv.classList.add("selected-anim");
            
            // åœæ­¢æ—¶å¼ºçƒˆéœ‡åŠ¨
            if (navigator.vibrate) navigator.vibrate([40, 50, 40]);
        }

        // æ ¹æ®å­—æ•°è°ƒæ•´å­—ä½“å¤§å°ï¼Œé€‚é…æ‰‹æœºå±
        function adjustFontSize(text) {
            resultDiv.classList.remove("long-text", "super-long-text");
            if (text.length > 8) {
                resultDiv.classList.add("super-long-text");
            } else if (text.length > 5) {
                resultDiv.classList.add("long-text");
            }
        }

        // ç”Ÿæˆæµ…è‰²èƒŒæ™¯è‰²ç”¨äºæ ‡ç­¾
        function getRandomColor() {
            const hue = Math.floor(Math.random() * 360);
            return `hsl(${hue}, 80%, 90%)`;
        }
    </script>
</body>
</html>
